@import "_config/_variables";
@import "_config/_mixins";

@import "base/_reset";
@import "base/_typography";
@import "base/_buttons";
@import "base/_forms";
@import "base/_media";
@import "base/_page";
@import "base/_icons";
@import "base/_grid";
@import "base/_gradients";

@import "components/_accordions";
@import "components/_drawers";
@import "components/_dropdowns";
@import "components/_marquees";
@import "components/_header";
@import "components/_footer";
@import "components/_cart";
@import "components/_productDrawer";
@import "components/_carouselConstruction";
@import "components/_carousels";
@import "components/_counters";
@import "components/_article";
@import "components/_testimonials";

/* EMA Chat iOS Keyboard Fix */
:root {
  --kbd: 0px;
  --composer-h: 64px;
}

/* NOTE: html, body overflow: hidden is applied dynamically by JS when chat opens */

/* Ema Widget Marquee Animation */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  /* Wait 5 seconds at start (approximately 31.25% of 16s total) */
  31.25% {
    transform: translateX(0);
  }
  /* Animate to end position (50% of animation) */
  50% {
    transform: translateX(calc(-100% + var(--marquee-container-width, 100%)));
  }
  /* Wait 5 seconds at end (approximately 81.25% of 16s total) */
  81.25% {
    transform: translateX(calc(-100% + var(--marquee-container-width, 100%)));
  }
  /* Return to start */
  100% {
    transform: translateX(0);
  }
}

.animate-marquee {
  animation: marquee 16s ease-in-out infinite;
  display: inline-block;
}

@media (prefers-reduced-motion: reduce) {
  .animate-marquee {
    animation: none;
  }
}

/* Force mobile rendering in Ema frame */
/* Override md: breakpoint (850px) styles to force mobile layout */
@media (min-width: 850px) {
  /* Common flex direction overrides */
  .ema-frame-mobile .md\:flex-row,
  .ema-frame-mobile [class*="md:flex-row"] {
    flex-direction: column !important;
  }
  
  /* Common width overrides */
  .ema-frame-mobile .md\:w-1\/2,
  .ema-frame-mobile [class*="md:w-1/2"],
  .ema-frame-mobile [class*="md:w-1\/2"] {
    width: 100% !important;
  }
  
  /* Common height overrides */
  .ema-frame-mobile .md\:h-screen,
  .ema-frame-mobile [class*="md:h-screen"] {
    height: auto !important;
  }
  
  /* Common display overrides */
  .ema-frame-mobile .md\:block,
  .ema-frame-mobile [class*="md:block"] {
    display: block !important;
  }
  
  .ema-frame-mobile .md\:hidden,
  .ema-frame-mobile [class*="md:hidden"] {
    display: none !important;
  }
  
  /* Common padding - remove md: padding to keep mobile values */
  .ema-frame-mobile .md\:p-30 {
    padding: 2rem !important; /* Use mobile p-20 value */
  }
  
  .ema-frame-mobile .md\:p-25 {
    padding: 2rem !important; /* Use mobile p-20 value */
  }
  
  /* Common gap overrides */
  .ema-frame-mobile .md\:gap-25 {
    gap: 1.5rem !important; /* Use mobile gap-15 value */
  }
}

/* Ema Widget Gradient Placeholder */
.ema-gradient-placeholder::placeholder,
button.ema-gradient-placeholder {
  background: linear-gradient(to right, #ED0E61 0%, #FF3BAB 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  opacity: 1;
}

/* Ema Chat Thinking Animation */
@keyframes ema-thinking-bounce {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

.ema-thinking-dot {
  animation: ema-thinking-bounce 1.4s ease-in-out infinite;
}

/* Ema Input Thinking Animation */
@keyframes ema-thinking-pulse {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

.ema-thinking-text {
  animation: ema-thinking-pulse 1.5s ease-in-out infinite;
  color: #ED0E61;
}

/* Ema Chat Overlay - fixed positioning */
.ema-chat-overlay {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100dvh;
  display: flex;
  flex-direction: column;
  z-index: 1000;
  overflow: hidden;
}

/* Ema Chat Messages Container */
.ema-chat-messages {
  flex: 1 1 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: calc(16px + var(--composer-h, 64px) + env(safe-area-inset-bottom));
}

/* Ema Chat Composer - rides the keyboard */
.ema-chat-composer {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  padding: 12px 16px;
  padding-bottom: calc(12px + env(safe-area-inset-bottom));
  background: white;
  transform: translate3d(0, var(--kbd, 0px), 0);
  will-change: transform;
  z-index: 1001;
  display: flex;
  flex-direction: column;
}